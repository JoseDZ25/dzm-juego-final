
<!DOCTYPE html>
<html lang="es">
<head><meta charset="UTF-8"><title>DZM Shooter Mobile</title></head>
<body>
<!-- JUEGO CANVAS Y CONTROLES VAN AQUÍ -->

<audio id="bgm" src="https://www.bensound.com/bensound-music/bensound-epic.mp3" loop></audio>
<audio id="shootSound" src="https://actions.google.com/sounds/v1/foley/punch_soft_impact.ogg"></audio>
<audio id="explodeSound" src="https://actions.google.com/sounds/v1/explosions/explosion.ogg"></audio>

<button id="restartBtn" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
padding:20px; font-size:20px; background:#fff; border-radius:10px; border:2px solid #000; z-index:20;">
🔄 Jugar de nuevo
</button>
<button id="musicBtn" style="position:fixed; top:10px; right:10px; padding:10px; font-size:14px;
background:#444; color:#fff; border:none; border-radius:8px; z-index:20;">🔊 Música</button>

<script>
const bgm = document.getElementById("bgm");
const musicBtn = document.getElementById("musicBtn");
const shootSound = document.getElementById("shootSound");
const explodeSound = document.getElementById("explodeSound");

let musicOn = true;
musicBtn.addEventListener("click", () => {
  musicOn = !musicOn;
  if (musicOn) {
    bgm.play();
    musicBtn.textContent = "🔊 Música";
  } else {
    bgm.pause();
    musicBtn.textContent = "🔇 Silencio";
  }
});

document.getElementById("restartBtn").addEventListener("click", () => {
  location.reload();
});

setTimeout(() => {
  bgm.play().catch(() => {
    musicBtn.textContent = "▶️ Activar música";
  });
}, 1000);

// Inyectar funciones globales para sonido
window.playShoot = () => shootSound.cloneNode().play();
window.playExplosion = () => explodeSound.cloneNode().play();

function drawGameOver() {
  ctx.fillStyle = "rgba(0,0,0,0.7)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "#f00";
  ctx.font = "40px Arial";
  ctx.fillText("¡Game Over!", canvas.width / 2 - 120, canvas.height / 2);
  ctx.font = "16px Arial";
  ctx.fillStyle = "#fff";
  ctx.fillText("Creado por Bucio", canvas.width / 2 - 80, canvas.height / 2 + 40);
}

function drawVictory() {
  ctx.fillStyle = "rgba(0,0,0,0.7)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "#0f0";
  ctx.font = "40px Arial";
  ctx.fillText("¡Victoria!", canvas.width / 2 - 100, canvas.height / 2);
  ctx.font = "16px Arial";
  ctx.fillStyle = "#fff";
  ctx.fillText("Creado por Bucio", canvas.width / 2 - 80, canvas.height / 2 + 40);
}

</script>

</body>
</html>
